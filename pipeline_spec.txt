
Processing Folder:
    /share/biocore/projects/Trimmer_James_UCD/Hybridoma-Seq-Processing/

RawData Folder:
    /share/biocore/projects/Trimmer_James_UCD/Hybridoma-Seq-Processing/00-RawData


Folder Structure:
    00-RawData - contains a copy of all plates that need to be processed (as well as some testing data etc).
    01-Processing - contains an analysis folder for each processed plate 
    02-Reporting - contains across-runs analysis results


Pipeline:
    SampleSheet.txt is a 7 column file that defines the plates, primers used, and when sequencing was done (for reporting). 
    Columns are:
        filePrefix - prefix for the fastq files - formatting varies depending on DNA Tech Core naming
        plate: consistent naming (TRIMMER00NN_PNN) for output plates and associated tables.
        submissionID: contains the ID the submission system uses, this should be 12 random digits
        Primers: contains the name of the primer definition to use for demultiplexing and trimming.
        SeqYear: Year plate was sequenced
        SeqMonth: Month plate was sequenced
        SeqDay: Day plate was sequenced

1) Run setup_pipeline.py 
    python3 NeuroMabSeq/setup_pipeline.py
    Note that this script can be run without overwriting previous outputs.
    TODO:
        -Either modify setup_pipeline.py so that it writes a Snakemake pipeline for each plate
        or
        -Find some other way to only process new plates automatically.
            -This might be as simple as checking for 03-AnnotatedResults/{plate}_Sequences.tsv
    
2) Run cleaning:
    bash run_HTS.sh

3) Run processing:
    parallel < run_processing.sh
    
4) Generate an across-plate report:
    module load R/3.6.3
    Rscript -e "rmarkdown::render('./02-Reporting/analyze_plates.rmd')"
