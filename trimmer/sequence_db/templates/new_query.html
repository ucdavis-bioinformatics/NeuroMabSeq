{% extends 'base.html' %}
{% load widget_tweaks %}
{% load static %}

{% block content %}

<style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
}

tr:nth-child(even) {
    background-color: #dddddd;
}
td {
    white-space: nowrap;
}

td.wrapok {
    white-space:normal
}


</style>

<!-- Datatables stuff -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.17/css/jquery.dataTables.css">
<script src="https://code.jquery.com/jquery-1.9.1.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.17/js/jquery.dataTables.js"></script>

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/responsive/1.0.7/js/dataTables.responsive.min.js"></script>


<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/1.0.7/css/responsive.dataTables.min.css">
<script>




$(document).ready(function(){ $('#myTable').DataTable(); });

$(document).ready( function () {
  var table = $('#example').DataTable({
  });
} );

$(document).ready(function() {
    $('#example1').DataTable({"pageLength": 50, searching: false, paging: false, info: false, ordering: false});
} );


</script>


  <div class="w3-container w3-content w3-center w3-padding-32" style="max-width:10000px">
  <form method="get">
    <div class="well" style="background-color:EAEAEA;padding:10;border-radius:8px;">
      <h3 style="margin-top: 0">General Filter</h3>
      <div class="row"  >

        <div class="form-group col-sm-4 col-md-3">
            <strong>mAb ID contains:</strong>
          {% render_field filter.form.name class="form-control" %}
        </div>
        <div class="form-group col-sm-4 col-md-3">
            <strong>mAb ID choice:</strong> Use Shift/CTRL/CMD to select multiple at once.
          {% render_field filter.form.name_choice class="form-control" %}
        </div>
        <div class="form-group col-sm-4 col-md-3">
            <strong>Category choice:</strong> Use Shift/CTRL/CMD to select multiple at once.
          {% render_field filter.form.category_choice class="form-control" %}
        </div>
        <div class="form-group col-sm-4 col-md-3">
            <strong>Target choice:</strong> Use Shift/CTRL/CMD to select multiple at once.
          {% render_field filter.form.target_choice class="form-control" %}
        </div>

      </div>
        <button type="submit" class="btn btn-primary">
            <span class="glyphicon glyphicon-search"></span> Search
        </button>
        <a href="/new_query/">
            <button  name="so_link" class="btn btn">
                <span class="glyphicon glyphicon-reset"></span> Reset Search
            </button>
        </a>
    </div>
  </form>
</div>


  <div class="w3-container w3-content w3-center w3-padding-5" style="max-width:10000px">



  <h2>Entry Results</h2>
        <table id="example" class="display responsive nowrap" cellspacing="0" width="100%" align="left">
              <thead>
                <tr>
                    <th>ID</th>
                    <th>mAb ID</th>
                    <th>Category</th>
                    <th>Protein Target</th>
                    <th># Heavy Chain</th>
                    <th># Light Chain</th>
                    <th>Full Entry Info</th>
                </tr>
              </thead>
          <tbody>
          {% for item in queryset %}
              <tr>
                  <td align="left">{{forloop.counter}}</td>
                  <td align="left">{{item.mabid}}</td>
                  <td align="left">{{item.get_category}}</td>
                  <td align="left">{{item.get_protein_target}}</td>
                  <td align="left">{{item.heavy_count}}</td>
                  <td align="left">{{item.light_count}}</td>
                  <td align="left">
                    <a href="/new_entry/{{item.pk}}/">
                      <button  label="Entry Details" name="so_link" class="btn btn-info">See Full Entry</button>
                    </a>
                  </td>
              </tr>
          {% empty %}
           <div>No entries yet.</div>
          {% endfor %}
           </tbody>
        </table>
</div>


{% endblock %}